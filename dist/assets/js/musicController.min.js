var MusicController=function(){function e(){function e(e){a=0;var i=p[e];l.html(i[0]),o.html(i[1]),r.find(".bar").width("0%"),r.find("p").html("00:00:00"),f.find(".head").attr({src:"assets/img/music/head"+(e+1)+".png"}),r.find("span").html("00:03:00"),d.find("li").removeClass("selected"),d.find("li").eq(e).addClass("selected")}function i(e){e>=180&&C.pause();var i=e%60,n=(e-i)/60,t="";t=i<10?"0"+i:i;var s="00:0"+n+":"+t;r.find(".bar").width(e/1.8+"%"),r.find("p").html(s)}function h(){var e=0,i=$at.PictureSoure("assets/img/musicCanvas/s2_00",49,98);clearInterval(t),t=setInterval(function(){e++,e=49==e?0:e,$at.CanvasMove(i[e],1080,570,"musicBk",870,400)},50)}function v(){var e=new Hammer(document.getElementById("event"));e.on("swipeleft",function(e){$("#music1Box").stop().animate({left:"-1080px"}),$(".roundBk").removeClass("selected"),$(".roundBk").eq(1).addClass("selected")}),e.on("swiperight",function(e){$("#music1Box").stop().animate({left:"0px"}),$(".roundBk").removeClass("selected"),$(".roundBk").eq(0).addClass("selected")})}var C={};return C.tip=function(){u.on("click",function(){s?(m.eq(0).fadeOut(),m.eq(1).fadeIn(),u.find(".tipTitle").eq(1).show(),u.find(".tipTitle").eq(0).hide(),u.find(".tipTitle").animate({left:"50%"})):(m.eq(0).fadeIn(),m.eq(1).fadeOut(),u.find(".tipTitle").eq(0).show(),u.find(".tipTitle").eq(1).hide(),u.find(".tipTitle").animate({left:"0%"})),s=!s})},C.ListInit=function(){for(var i="",n=0;n<p.length;n++)i+="<li><p>0"+(n+1)+"</p>",i+='<img src="assets/img/music/head'+(n+1)+'.png" />',i+="<span>"+p[n][0]+"<strong>/"+p[n][1]+"</strong></span>",i+='<img src="assets/img/music/musicRight.png" class="musicRight"/></li>';d.html(i),d.on("click","li",function(){var i=d.find("li").index($(this));c=parseInt(i)%5,e(c)}),e(0),h(),v()},C.play=function(){function e(){a++,i(a)}$(".musicImg").eq(1).removeClass("musicPause"),clearInterval(n),n=setInterval(e,1e3)},C.pause=function(){$(".musicImg").eq(1).addClass("musicPause"),clearInterval(n)},C.pre=function(){c--,c<0&&(c=p.length-1),e(c)},C.next=function(){c++,c>p.length-1&&(c=0),e(c)},C.domEvent=function(){var e=$("#musicController");e.find(".play").on("click",function(){$(this).hide(),e.find(".pause").show(),C.play()}),e.find(".pause").on("click",function(){$(this).hide(),$(".musicRound").removeClass("musicRoundAnimate").addClass("musicRoundAnimate"),e.find(".play").show(),C.pause()}),e.find(".pre").on("click",function(){C.pre()}),e.find(".next").on("click",function(){C.next()})},C}var i,n,t,s=!0,a=0,c=0,u=$("#musicTip"),d=$("#musicList ul"),l=$("#musicName"),o=$("#musicUser"),f=$("#music1Box"),r=$("#musicInfo"),m=$(".music"),p=[["AAAAAAAAA","aaaaaa"],["BBBBBBBBB","bbbbbbbb"],["CCCCCCCCC","cccccccc"],["DDDDDDDD","ddddddd"],["EEEEEEEE","eeeeeee"]];return function(){return i||(i=e()),i}}();